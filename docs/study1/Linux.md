# Linux studying (一切皆文件)

## 常用命令:

```
1.cd ~  #回到用户目录

2.cd /   #回到根目录

3.cd..   #返回

4.cd../..  #返回上上级目录

5.ls      #显示目录内容列表

6.ll         #列出所有文件

7.pwd   #显示当前目录

8.ctrl + c  #临时强制退出/停止命令的执行

9.touch 文件名   #创建文件

10.df       #显示已挂载的所有磁盘使用情况（用k表示内存）

11.df-h     #显示已挂载的所有磁盘使用情况（用G表示内存）比上一个常用

12.vim      #打开并可编辑文件

13.sort 文件名   #将文件中的内容按从1到n的先后顺序排列展示，但不会改变原文件

14.sort -n 文件名  #按数字大小进行排序

15.sort -nr 文件名 #倒叙排列文件内容

16.cp -i 你想复制的文件 你想复制到的文件

17.mv 原名 新名  #改名

18.mv 文件现在的绝对路径 文件新的绝对路径 #改变地址

19.rm -i 文件名 #彻底删除（慎重使用）

20.sudo mount /dev/sro/mnt/ #挂载

21.sudo umount /mnt      #解除挂载

22.cat 文件名  #查看文件

23.less 文件名  #查看文件（可翻页）

24.kill+PID #结束进程

25.mkdir temp  #创建一个目录temp

26.cp ../newfile . #将上级目录中的文件newfile复制到当前目录下

27.cp newfile aaa  #将文件newfile复制为新文件aaa

28.mv aaa bbb  #将文件aaa重命名为bbb

29.mv bbb ..  #将文件bbb移动到上级目录

30.rm bbb  #删除文件bbb

31.rm -r temp #递归删除目录temp
```

## 在Linux如何分屏:

1.终端中使用

```
sudo qpt install tmux
```

2.输入tmux进入

3.上下分屏：

```
ctrl+b再按"
```

4.左右分屏：

```
ctrl+b再按%
```

5.切换选中屏幕中的内容：

```
ctrl+b再按o      #英文字母o不是数字0
```

6.切换两个相邻的屏幕：

```
ctrl=b再按{或者}，一个向前切换，一个向后切换。
```

## 在Linux中永久调整大小比例的命令：

```
gsettings set org.gnome.desktop.inerface scaling-factor 2
```

- 其中最后的2是倍数，改成1.5，即1.5倍

## 统计与查找：

1.如果想知道当前目录下究竟有多少行代码，可以在命令行中键入如下命令：

```
find . | grep '\.c$\|\.h$' | xargs wc -l
```

2.find是搜索目录中的文件，<MARK>find .</MARK>表示列出当前目录下的所有文件，按Ctrl+C退出。

3.正则表达式：

- 3.1正则表达式使用单个字串来描述，匹配一系列对应某个句法规则的字符串。（一个字符串匹配其他字符串）
- 3.2以行为单位进行字符串的处理，可以完成查找，替换和删除操作。
- 3.3正则表达式在Linux中一般分为两种，基础正则表达式和扩展正则表达式，扩展正则表达式提供了群组功能。
- 3.4Linux中有些命令是支持正则表达式的：

```
grep, sed , awk
```

- 3.5基础正则表达式的一些语法和工具及一些特殊的特性：

   3.5.1语系是什么？语系就是我们所使用的编码方式，我们知道在不同编码方式中同一字符对应的源二进制码是不同的，而正则表达式在底层中是匹配二进制码所以不同的语系，同一正则表达式匹配的模式可能是不同的。

   3.5.2引用鸟哥的例子来解释语系：

    LANG=C时，编码顺序为：ABCD…Zabcd…z
   
    LANG=zh_CN时，编码顺序为：aAbBcC…zZ
   
    在这里当我们使用[a-z]时，LANG=C选取的是所有小写英文字母，而LANG=zh_CN选取的结果包括大写字母，所以一定要注意使用正则表达式时的语系。
   
    一般我们使用正则表达式所使用的语系是LANG=C

而正则表达式为了避免语系对输出结果的影响，设置了一些特殊字符，匹配特定的字符，在不同语系下的结果是相同的。
 ![在这里插入图片描述](Linux/11202.jpg)

<MARK>这个用法像极了C语言中的 ctype.h 作为头文件引用的一系列函数，它们的功能是计算指定符号的个数，例如大写字母，小写字母，空格，TAB的个数。</MARK>

3.5.3接下来我认为应该是重点，<mark>grep</mark>终于出场了

- <mark>grep</mark>实现了输入的过滤，grep命令是以行为单位来查找字符串的，下面是它的一些语法：

```
1|grep [-acinvA] PATTERN filename
2|-a：将二进制文件以文本文件的方式查找数据
3|-c：计算找到 对应字符 的次数
4|-i：查找时忽略大小写的区别
5|-v：反向查找，即输出不匹配的行
6|-n：输出时输出行号
7|--color=auto：找的的关键字部分加上颜色的显示
8|-A：后面可加数字n，除了列出该行外，后续的n行也列出来
9|-B：后面可加数字n，除了列出该行外，前面的n行也列出来
```

具体该如何简单的使用呢？展示一个例子

输入：

```
grep -in printf ex8  #grep -语法参数 你要查找的内容 文件名
```

输出：

![](Linux/1120.1.jpg)

它会将所有的printf高亮，但是因为我的terminal中并没有行数，所以它并没有输出行数。

3.5.4使用<mark>find</mark>加<mark>grep</mark>来筛选文件（比如以<mark>.c</mark>和<mark>.h</mark>结尾的文件）：

管道符号<mark>|</mark>是关键，<mark>A | B</mark>的含义是创建两个进程A和B, 并将`A`进程的标准输出连接到`B`进程的标准输入.

3.5.5eg:筛选当前目录下以.c结尾的文件：

第一种命令：

```
find .|grep .c   #查找所有以.c结尾的文件
```

我的电脑上的结果展示：

![ ](Linux/11211.jpg)

我发现了另一种更实用的命令（它更简洁方便）：

```
ls *.c   #列出当前目录下所有.c文件
```

![ ](Linux/11212.jpg)

3.5.6我们最后的任务就是统计这些文件所占用的总行数：

`wc`命令的`-l`选项能够计算代码的行数（可在<mark>man wc</mark>中查看）. 

`xargs`命令十分特殊, 它能够将标准输入转换为参数, 传送给第一个参数所指定的程序. 所以, 代码中的`xargs wc -l`就等价于执行`wc -l aaa.c bbb.c include/ccc.h ...`, 最终完成代码行数统计.

利用`xargs`搭配管道符号`|`就可以计算多个文件的总行数。

- 计算一个文件中的行数的命令：

```
wc -l filename
```

- 计算当前目录下多个指定文件(以.c为例)的总行数的命令：

```
ls *.c | xargs wc -l
```

在我的电脑上的展示如图：

![ ](Linux/11213.jpg)

它会把当前目录的所有.c文件的行数列出，并且会计算所有文件的总行数。

当然利用`ls -l`就可以计算当前目录所有文件的情况，`ls *.h`可以计算所有.h文件的情况。

### 统计磁盘使用情况：

我以我的Documents下的目录为例，统计此目录下各个目录所占用的磁盘空间。命令：

```
du -sc ~/Documents/* | sort -nr | less 
```

```
#du是磁盘空间分析工具, du -sc将目录的大小顺次输出到标准输出, 继而通过管道传送给sort. sort是数据排序工具, 其中的选项-n表示按照数值进行排序, 而-r则表示从大到小输出. sort可以将这些参数连写在一起.
```

最后的less工具很好用，当目录过多无法再一个屏幕内全部显示时可以添加“<mark>| less</mark>”来实现翻页 B 是向上翻页，空格是向下翻页。
